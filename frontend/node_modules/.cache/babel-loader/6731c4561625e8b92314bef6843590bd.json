{"ast":null,"code":"var _jsxFileName = \"/Users/saraneuenschwander/Desktop/challenges/Developers-Branch/frontend/src/components/pages/ViewPost.jsx\",\n    _s = $RefreshSig$();\n\n/**\r\n *\r\n * @access \tPublic\r\n * @route  \t/login\r\n * @desc  \tLogin page for users\r\n *\r\n */\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { PageContainer, StyledTextArea, GreyLinkButton, TimestampComponent, StyledInputErrorMessage, AvatarImage } from '../utils/styled-components/components';\nimport { connect } from 'react-redux';\nimport { getSinglePostWithComments, addComment, deleteCommentFromAccount, postReaction, deletePostFromAccount } from '../../store/actions/posts';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction createMarkup(body) {\n  return {\n    __html: body\n  };\n}\n\nconst ViewPost = _ref => {\n  _s();\n\n  let {\n    getSinglePostWithComments,\n    addComment,\n    deleteCommentFromAccount,\n    postReaction,\n    deletePostFromAccount,\n    authState: {\n      user,\n      isAuthenticated\n    },\n    postState: {\n      singlePost\n    }\n  } = _ref;\n  const history = useHistory();\n  const {\n    postID\n  } = useParams();\n  const [currentPost, setCurrentPost] = useState(null);\n  const [comments, setComments] = useState(null);\n  const [newCommentBody, setNewCommentBody] = useState('');\n  const [commentError, setCommentError] = useState(false);\n  const [submitted, setSubmitted] = useState(false);\n  useEffect(() => {\n    if (user && !singlePost.postDetails) {\n      getSinglePostWithComments(postID);\n    } else if (user && singlePost.postDetails && String(singlePost.postDetails.post.id) !== postID) {\n      getSinglePostWithComments(postID);\n    } else if (user && singlePost.postDetails.post && String(singlePost.postDetails.post.id) === postID && Object.keys(singlePost.postDetails.post).length > 1) {\n      setCurrentPost(singlePost.postDetails.post);\n      setComments(singlePost.postDetails.comments);\n    } // eslint-disable-next-line\n\n  }, [isAuthenticated, singlePost.postDetails]); // Submit Handling\n\n  const submitHandler = async e => {\n    e.preventDefault();\n\n    if (newCommentBody.trim().length === 0) {\n      setNewCommentBody('');\n      setCommentError(true);\n      return;\n    }\n\n    setSubmitted(true);\n    const isSuccess = await addComment(currentPost.id, {\n      body: newCommentBody.trim()\n    });\n    if (isSuccess) setNewCommentBody('');\n    setSubmitted(false);\n  }; // Deleting Comment\n\n\n  const deleteComment = id => async () => {\n    setComments(comments && comments.map(it => {\n      if (it.id === id) return { ...it,\n        deleting: true\n      };\n      return it;\n    }));\n    await deleteCommentFromAccount(currentPost.id, id);\n  };\n\n  const reactOnPost = like => async () => {\n    setCurrentPost({ ...currentPost,\n      reacting: true\n    });\n    await postReaction(currentPost.id, like);\n  };\n\n  const deleteCurrentPost = async () => {\n    setCurrentPost({ ...currentPost,\n      deleting: true\n    });\n    await deletePostFromAccount(currentPost.id);\n    history.push('/posts');\n  };\n\n  return /*#__PURE__*/_jsxDEV(PageContainer, {\n    className: \"container py-3 auth__container mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(GreyLinkButton, {\n      to: \"/posts\",\n      className: \"btn my-2 btn-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"far fa-arrow-left mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this), \"Back to Posts\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 4\n    }, this), singlePost.loading || !singlePost.postDetails ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"style\", {\n        type: \"text/css\",\n        children: `\n\t\t\t\t\t\t\t\t.spinner-border {\n\t\t\t\t\t\t\t\t\theight: 4rem;\n\t\t\t\t\t\t\t\t\twidth: 4rem;\n\t\t\t\t\t\t\t\t\tcolor: rgb(20, 20, 20, 0.9);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true) : !currentPost ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"lead text-center mt-5\",\n      children: [\"We're sorry, the page you are requested could not be found.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 6\n      }, this), \"Please go back to the Homepage.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-3 list-group-item d-flex align-items-center justify-content-evenly\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(AvatarImage, {\n                name: currentPost.author_name,\n                colorCode: currentPost.author_avatar_color,\n                imageURL: currentPost.author_dp_url\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"mt-2 text-primary text-capitalize\",\n                style: {\n                  whiteSpace: 'nowrap'\n                },\n                children: currentPost.author_name.length > 12 ? currentPost.author_name.substr(0, 12).concat('...') : currentPost.author_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1.5\n              },\n              className: \"ml-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: '13px',\n                  whiteSpace: 'pre'\n                },\n                className: \"mb-2 text-dark\",\n                dangerouslySetInnerHTML: createMarkup(currentPost.body)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Posted on \", /*#__PURE__*/_jsxDEV(TimestampComponent, {\n                  timestamp: currentPost.created_at\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: reactOnPost(true),\n                  disabled: user && user.new_account || currentPost.deleting || currentPost.reacting,\n                  style: {\n                    fontSize: '16px'\n                  },\n                  className: \"btn btn-sm btn-light\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `${currentPost.reaction === 1 ? 'fas' : 'far'} fa-thumbs-up`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: reactOnPost(false),\n                  disabled: user && user.new_account || currentPost.deleting || currentPost.reacting,\n                  style: {\n                    fontSize: '16px'\n                  },\n                  className: \"btn btn-sm btn-light mx-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: `${currentPost.reaction === 0 ? 'fas' : 'far'} fa-thumbs-down`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: deleteCurrentPost,\n                  disabled: currentPost.deleting,\n                  style: {\n                    fontSize: '13px'\n                  },\n                  className: \"btn btn-sm btn-danger\",\n                  children: [currentPost.deleting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [\"Removing... \", '\t', /*#__PURE__*/_jsxDEV(Spinner, {\n                      as: \"span\",\n                      animation: \"border\",\n                      size: \"sm\",\n                      role: \"status\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 14\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-trash mr-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 14\n                    }, this), \" Remove\"]\n                  }, void 0, true), ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"lead bg-info px-2 py-1 text-light\",\n        children: \"Leave a Comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 6\n      }, this), user && !user.new_account ? /*#__PURE__*/_jsxDEV(\"form\", {\n        style: {\n          fontSize: '14px'\n        },\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(StyledTextArea, {\n          disabled: submitted || currentPost.deleting,\n          value: newCommentBody,\n          onChange: e => {\n            setNewCommentBody(e.target.value);\n            setCommentError(false);\n          },\n          rows: \"4\",\n          placeholder: \"Write a comment for this post\",\n          className: \"form-control mb-1\",\n          \"aria-label\": \"With textarea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 8\n        }, this), commentError ? /*#__PURE__*/_jsxDEV(StyledInputErrorMessage, {\n          className: \"d-block\",\n          style: {\n            fontSize: '0.85rem'\n          },\n          children: \"Please write some text to add new comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: submitted || currentPost.deleting,\n          type: \"submit\",\n          className: \"btn btn-dark btn-sm mt-1\",\n          children: submitted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\"Adding... \", '\t', /*#__PURE__*/_jsxDEV(Spinner, {\n              as: \"span\",\n              animation: \"border\",\n              size: \"sm\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"Add Comment\"\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bg-light px-2 py-1 text-primary text-center\",\n        style: {\n          fontSize: '17px'\n        },\n        children: \"Kindly create your developer profile first\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-group\",\n          children: !comments || comments && comments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center lead\",\n            children: \"This post didn't have any comments yet. You can add new comment here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 9\n          }, this) : comments && comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"py-3 list-group-item d-flex align-items-center justify-content-evenly border-top mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              style: {\n                flex: 0.25\n              },\n              children: [/*#__PURE__*/_jsxDEV(AvatarImage, {\n                name: comment.author_name,\n                colorCode: comment.author_avatar_color,\n                imageURL: comment.author_dp_url,\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-secondary mb-0 text-capitalize\",\n                style: {\n                  whiteSpace: 'nowrap'\n                },\n                children: comment.author_name.length > 10 ? comment.author_name.substr(0, 10).concat('...') : comment.author_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1.5\n              },\n              className: \"ml-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: '13px',\n                  whiteSpace: 'pre'\n                },\n                className: \"mb-2 text-dark\",\n                dangerouslySetInnerHTML: createMarkup(comment.body)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [\"Posted on \", /*#__PURE__*/_jsxDEV(TimestampComponent, {\n                  timestamp: comment.created_at\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"style\", {\n                  type: \"text/css\",\n                  children: `\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.delete_btn_container {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 5px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tright: 5px;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"delete_btn_container\",\n                  children: comment.author_id === user.id ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: deleteComment(comment.id),\n                    disabled: comment.deleting || currentPost.deleting,\n                    style: {\n                      fontSize: '13px'\n                    },\n                    className: \"btn btn-sm btn-danger\",\n                    children: comment.deleting ? /*#__PURE__*/_jsxDEV(Spinner, {\n                      as: \"span\",\n                      animation: \"border\",\n                      size: \"sm\",\n                      role: \"status\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 17\n                    }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"far fa-trash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 17\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 15\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 11\n            }, this)]\n          }, comment.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 10\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ViewPost, \"+7etH9fZP0iqN7PauGxtEZ1o/ho=\", false, function () {\n  return [useHistory, useParams];\n});\n\n_c = ViewPost;\n\nconst mapStateToProps = state => ({\n  postState: state.POSTS,\n  authState: state.AUTH_STATE\n});\n\nexport default connect(mapStateToProps, {\n  getSinglePostWithComments,\n  addComment,\n  deleteCommentFromAccount,\n  postReaction,\n  deletePostFromAccount\n})(ViewPost);\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewPost\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useHistory","PageContainer","StyledTextArea","GreyLinkButton","TimestampComponent","StyledInputErrorMessage","AvatarImage","connect","getSinglePostWithComments","addComment","deleteCommentFromAccount","postReaction","deletePostFromAccount","Spinner","createMarkup","body","__html","ViewPost","authState","user","isAuthenticated","postState","singlePost","history","postID","currentPost","setCurrentPost","comments","setComments","newCommentBody","setNewCommentBody","commentError","setCommentError","submitted","setSubmitted","postDetails","String","post","id","Object","keys","length","submitHandler","e","preventDefault","trim","isSuccess","deleteComment","map","it","deleting","reactOnPost","like","reacting","deleteCurrentPost","push","loading","author_name","author_avatar_color","author_dp_url","whiteSpace","substr","concat","flex","fontSize","created_at","marginTop","new_account","reaction","target","value","comment","author_id","mapStateToProps","state","POSTS","AUTH_STATE"],"sources":["/Users/saraneuenschwander/Desktop/challenges/Developers-Branch/frontend/src/components/pages/ViewPost.jsx"],"sourcesContent":["/**\r\n *\r\n * @access \tPublic\r\n * @route  \t/login\r\n * @desc  \tLogin page for users\r\n *\r\n */\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport {\r\n\tPageContainer,\r\n\tStyledTextArea,\r\n\tGreyLinkButton,\r\n\tTimestampComponent,\r\n\tStyledInputErrorMessage,\r\n\tAvatarImage,\r\n} from '../utils/styled-components/components';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tgetSinglePostWithComments,\r\n\taddComment,\r\n\tdeleteCommentFromAccount,\r\n\tpostReaction,\r\n\tdeletePostFromAccount,\r\n} from '../../store/actions/posts';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nfunction createMarkup(body) {\r\n\treturn { __html: body };\r\n}\r\n\r\nconst ViewPost = ({\r\n\tgetSinglePostWithComments,\r\n\taddComment,\r\n\tdeleteCommentFromAccount,\r\n\tpostReaction,\r\n\tdeletePostFromAccount,\r\n\tauthState: { user, isAuthenticated },\r\n\tpostState: { singlePost },\r\n}) => {\r\n\tconst history = useHistory();\r\n\tconst { postID } = useParams();\r\n\tconst [currentPost, setCurrentPost] = useState(null);\r\n\tconst [comments, setComments] = useState(null);\r\n\tconst [newCommentBody, setNewCommentBody] = useState('');\r\n\tconst [commentError, setCommentError] = useState(false);\r\n\tconst [submitted, setSubmitted] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user && !singlePost.postDetails) {\r\n\t\t\tgetSinglePostWithComments(postID);\r\n\t\t} else if (\r\n\t\t\tuser &&\r\n\t\t\tsinglePost.postDetails &&\r\n\t\t\tString(singlePost.postDetails.post.id) !== postID\r\n\t\t) {\r\n\t\t\tgetSinglePostWithComments(postID);\r\n\t\t} else if (\r\n\t\t\tuser &&\r\n\t\t\tsinglePost.postDetails.post &&\r\n\t\t\tString(singlePost.postDetails.post.id) === postID &&\r\n\t\t\tObject.keys(singlePost.postDetails.post).length > 1\r\n\t\t) {\r\n\t\t\tsetCurrentPost(singlePost.postDetails.post);\r\n\t\t\tsetComments(singlePost.postDetails.comments);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [isAuthenticated, singlePost.postDetails]);\r\n\r\n\t// Submit Handling\r\n\tconst submitHandler = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (newCommentBody.trim().length === 0) {\r\n\t\t\tsetNewCommentBody('');\r\n\t\t\tsetCommentError(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetSubmitted(true);\r\n\t\tconst isSuccess = await addComment(currentPost.id, { body: newCommentBody.trim() });\r\n\t\tif (isSuccess) setNewCommentBody('');\r\n\t\tsetSubmitted(false);\r\n\t};\r\n\r\n\t// Deleting Comment\r\n\tconst deleteComment = (id) => async () => {\r\n\t\tsetComments(\r\n\t\t\tcomments &&\r\n\t\t\t\tcomments.map((it) => {\r\n\t\t\t\t\tif (it.id === id) return { ...it, deleting: true };\r\n\t\t\t\t\treturn it;\r\n\t\t\t\t})\r\n\t\t);\r\n\t\tawait deleteCommentFromAccount(currentPost.id, id);\r\n\t};\r\n\r\n\tconst reactOnPost = (like) => async () => {\r\n\t\tsetCurrentPost({ ...currentPost, reacting: true });\r\n\t\tawait postReaction(currentPost.id, like);\r\n\t};\r\n\r\n\tconst deleteCurrentPost = async () => {\r\n\t\tsetCurrentPost({ ...currentPost, deleting: true });\r\n\t\tawait deletePostFromAccount(currentPost.id);\r\n\t\thistory.push('/posts');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PageContainer className='container py-3 auth__container mb-5'>\r\n\t\t\t<GreyLinkButton to='/posts' className='btn my-2 btn-sm'>\r\n\t\t\t\t<i className='far fa-arrow-left mr-2'></i>Back to Posts\r\n\t\t\t</GreyLinkButton>\r\n\t\t\t{singlePost.loading || !singlePost.postDetails ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<style type='text/css'>\r\n\t\t\t\t\t\t{`\r\n\t\t\t\t\t\t\t\t.spinner-border {\r\n\t\t\t\t\t\t\t\t\theight: 4rem;\r\n\t\t\t\t\t\t\t\t\twidth: 4rem;\r\n\t\t\t\t\t\t\t\t\tcolor: rgb(20, 20, 20, 0.9);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t`}\r\n\t\t\t\t\t</style>\r\n\t\t\t\t\t<div className='text-center mt-5'>\r\n\t\t\t\t\t\t<Spinner animation='border' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : !currentPost ? (\r\n\t\t\t\t<p className='lead text-center mt-5'>\r\n\t\t\t\t\tWe're sorry, the page you are requested could not be found.\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\tPlease go back to the Homepage.\r\n\t\t\t\t</p>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className='mt-2 mb-4'>\r\n\t\t\t\t\t\t<div className='list-group'>\r\n\t\t\t\t\t\t\t<div className='py-3 list-group-item d-flex align-items-center justify-content-evenly'>\r\n\t\t\t\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t\t\t\t<AvatarImage\r\n\t\t\t\t\t\t\t\t\t\tname={currentPost.author_name}\r\n\t\t\t\t\t\t\t\t\t\tcolorCode={currentPost.author_avatar_color}\r\n\t\t\t\t\t\t\t\t\t\timageURL={currentPost.author_dp_url}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<h6\r\n\t\t\t\t\t\t\t\t\t\tclassName='mt-2 text-primary text-capitalize'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ whiteSpace: 'nowrap' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{currentPost.author_name.length > 12\r\n\t\t\t\t\t\t\t\t\t\t\t? currentPost.author_name.substr(0, 12).concat('...')\r\n\t\t\t\t\t\t\t\t\t\t\t: currentPost.author_name}\r\n\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style={{ flex: 1.5 }} className='ml-5'>\r\n\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '13px', whiteSpace: 'pre' }}\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-2 text-dark'\r\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={createMarkup(currentPost.body)}\r\n\t\t\t\t\t\t\t\t\t></p>\r\n\t\t\t\t\t\t\t\t\t<small className='text-muted'>\r\n\t\t\t\t\t\t\t\t\t\tPosted on <TimestampComponent timestamp={currentPost.created_at} />\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t<div style={{ marginTop: '12px' }}>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={reactOnPost(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t(user && user.new_account) || currentPost.deleting || currentPost.reacting\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '16px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-light'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`${currentPost.reaction === 1 ? 'fas' : 'far'} fa-thumbs-up`}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={reactOnPost(false)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t(user && user.new_account) || currentPost.deleting || currentPost.reacting\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '16px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-light mx-2'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`${currentPost.reaction === 0 ? 'fas' : 'far'} fa-thumbs-down`}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={deleteCurrentPost}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={currentPost.deleting}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '13px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-danger'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{currentPost.deleting ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemoving... {'\t'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='span'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation='border'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trole='status'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden='true'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash mr-2'></i> Remove\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className='lead bg-info px-2 py-1 text-light'>Leave a Comment</p>\r\n\t\t\t\t\t{user && !user.new_account ? (\r\n\t\t\t\t\t\t<form style={{ fontSize: '14px' }} onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t<StyledTextArea\r\n\t\t\t\t\t\t\t\tdisabled={submitted || currentPost.deleting}\r\n\t\t\t\t\t\t\t\tvalue={newCommentBody}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetNewCommentBody(e.target.value);\r\n\t\t\t\t\t\t\t\t\tsetCommentError(false);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trows='4'\r\n\t\t\t\t\t\t\t\tplaceholder='Write a comment for this post'\r\n\t\t\t\t\t\t\t\tclassName='form-control mb-1'\r\n\t\t\t\t\t\t\t\taria-label='With textarea'\r\n\t\t\t\t\t\t\t></StyledTextArea>\r\n\t\t\t\t\t\t\t{commentError ? (\r\n\t\t\t\t\t\t\t\t<StyledInputErrorMessage className='d-block' style={{ fontSize: '0.85rem' }}>\r\n\t\t\t\t\t\t\t\t\tPlease write some text to add new comment\r\n\t\t\t\t\t\t\t\t</StyledInputErrorMessage>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tdisabled={submitted || currentPost.deleting}\r\n\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-dark btn-sm mt-1'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{submitted ? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\tAdding... {'\t'}\r\n\t\t\t\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\t\t\t\tas='span'\r\n\t\t\t\t\t\t\t\t\t\t\tanimation='border'\r\n\t\t\t\t\t\t\t\t\t\t\tsize='sm'\r\n\t\t\t\t\t\t\t\t\t\t\trole='status'\r\n\t\t\t\t\t\t\t\t\t\t\taria-hidden='true'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<>Add Comment</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className='bg-light px-2 py-1 text-primary text-center' style={{ fontSize: '17px' }}>\r\n\t\t\t\t\t\t\tKindly create your developer profile first\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='mt-4'>\r\n\t\t\t\t\t\t<div className='list-group'>\r\n\t\t\t\t\t\t\t{!comments || (comments && comments.length === 0) ? (\r\n\t\t\t\t\t\t\t\t<p className='text-center lead'>\r\n\t\t\t\t\t\t\t\t\tThis post didn't have any comments yet. You can add new comment here!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tcomments &&\r\n\t\t\t\t\t\t\t\tcomments.map((comment) => (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={comment.id}\r\n\t\t\t\t\t\t\t\t\t\tclassName='py-3 list-group-item d-flex align-items-center justify-content-evenly border-top mb-3'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className='text-center' style={{ flex: 0.25 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AvatarImage\r\n\t\t\t\t\t\t\t\t\t\t\t\tname={comment.author_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolorCode={comment.author_avatar_color}\r\n\t\t\t\t\t\t\t\t\t\t\t\timageURL={comment.author_dp_url}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize='sm'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mt-1 text-secondary mb-0 text-capitalize'\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ whiteSpace: 'nowrap' }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{comment.author_name.length > 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? comment.author_name.substr(0, 10).concat('...')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: comment.author_name}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ flex: 1.5 }} className='ml-5'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '13px', whiteSpace: 'pre' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-2 text-dark'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={createMarkup(comment.body)}\r\n\t\t\t\t\t\t\t\t\t\t\t></p>\r\n\t\t\t\t\t\t\t\t\t\t\t<small className='text-muted'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPosted on <TimestampComponent timestamp={comment.created_at} />{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<style type='text/css'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.delete_btn_container {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttop: 5px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tright: 5px;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</style>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='delete_btn_container'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{comment.author_id === user.id ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={deleteComment(comment.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={comment.deleting || currentPost.deleting}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '13px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{comment.deleting ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='span'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanimation='border'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trole='status'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden='true'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</PageContainer>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tpostState: state.POSTS,\r\n\tauthState: state.AUTH_STATE,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tgetSinglePostWithComments,\r\n\taddComment,\r\n\tdeleteCommentFromAccount,\r\n\tpostReaction,\r\n\tdeletePostFromAccount,\r\n})(ViewPost);\r\n"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SACCC,aADD,EAECC,cAFD,EAGCC,cAHD,EAICC,kBAJD,EAKCC,uBALD,EAMCC,WAND,QAOO,uCAPP;AAQA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACCC,yBADD,EAECC,UAFD,EAGCC,wBAHD,EAICC,YAJD,EAKCC,qBALD,QAMO,2BANP;AAOA,OAAOC,OAAP,MAAoB,yBAApB;;;;AAEA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;EAC3B,OAAO;IAAEC,MAAM,EAAED;EAAV,CAAP;AACA;;AAED,MAAME,QAAQ,GAAG,QAQX;EAAA;;EAAA,IARY;IACjBT,yBADiB;IAEjBC,UAFiB;IAGjBC,wBAHiB;IAIjBC,YAJiB;IAKjBC,qBALiB;IAMjBM,SAAS,EAAE;MAAEC,IAAF;MAAQC;IAAR,CANM;IAOjBC,SAAS,EAAE;MAAEC;IAAF;EAPM,CAQZ;EACL,MAAMC,OAAO,GAAGvB,UAAU,EAA1B;EACA,MAAM;IAAEwB;EAAF,IAAazB,SAAS,EAA5B;EACA,MAAM,CAAC0B,WAAD,EAAcC,cAAd,IAAgC7B,QAAQ,CAAC,IAAD,CAA9C;EACA,MAAM,CAAC8B,QAAD,EAAWC,WAAX,IAA0B/B,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM,CAACgC,cAAD,EAAiBC,iBAAjB,IAAsCjC,QAAQ,CAAC,EAAD,CAApD;EACA,MAAM,CAACkC,YAAD,EAAeC,eAAf,IAAkCnC,QAAQ,CAAC,KAAD,CAAhD;EACA,MAAM,CAACoC,SAAD,EAAYC,YAAZ,IAA4BrC,QAAQ,CAAC,KAAD,CAA1C;EAEAC,SAAS,CAAC,MAAM;IACf,IAAIqB,IAAI,IAAI,CAACG,UAAU,CAACa,WAAxB,EAAqC;MACpC3B,yBAAyB,CAACgB,MAAD,CAAzB;IACA,CAFD,MAEO,IACNL,IAAI,IACJG,UAAU,CAACa,WADX,IAEAC,MAAM,CAACd,UAAU,CAACa,WAAX,CAAuBE,IAAvB,CAA4BC,EAA7B,CAAN,KAA2Cd,MAHrC,EAIL;MACDhB,yBAAyB,CAACgB,MAAD,CAAzB;IACA,CANM,MAMA,IACNL,IAAI,IACJG,UAAU,CAACa,WAAX,CAAuBE,IADvB,IAEAD,MAAM,CAACd,UAAU,CAACa,WAAX,CAAuBE,IAAvB,CAA4BC,EAA7B,CAAN,KAA2Cd,MAF3C,IAGAe,MAAM,CAACC,IAAP,CAAYlB,UAAU,CAACa,WAAX,CAAuBE,IAAnC,EAAyCI,MAAzC,GAAkD,CAJ5C,EAKL;MACDf,cAAc,CAACJ,UAAU,CAACa,WAAX,CAAuBE,IAAxB,CAAd;MACAT,WAAW,CAACN,UAAU,CAACa,WAAX,CAAuBR,QAAxB,CAAX;IACA,CAjBc,CAkBf;;EACA,CAnBQ,EAmBN,CAACP,eAAD,EAAkBE,UAAU,CAACa,WAA7B,CAnBM,CAAT,CATK,CA8BL;;EACA,MAAMO,aAAa,GAAG,MAAOC,CAAP,IAAa;IAClCA,CAAC,CAACC,cAAF;;IAEA,IAAIf,cAAc,CAACgB,IAAf,GAAsBJ,MAAtB,KAAiC,CAArC,EAAwC;MACvCX,iBAAiB,CAAC,EAAD,CAAjB;MACAE,eAAe,CAAC,IAAD,CAAf;MACA;IACA;;IAEDE,YAAY,CAAC,IAAD,CAAZ;IACA,MAAMY,SAAS,GAAG,MAAMrC,UAAU,CAACgB,WAAW,CAACa,EAAb,EAAiB;MAAEvB,IAAI,EAAEc,cAAc,CAACgB,IAAf;IAAR,CAAjB,CAAlC;IACA,IAAIC,SAAJ,EAAehB,iBAAiB,CAAC,EAAD,CAAjB;IACfI,YAAY,CAAC,KAAD,CAAZ;EACA,CAbD,CA/BK,CA8CL;;;EACA,MAAMa,aAAa,GAAIT,EAAD,IAAQ,YAAY;IACzCV,WAAW,CACVD,QAAQ,IACPA,QAAQ,CAACqB,GAAT,CAAcC,EAAD,IAAQ;MACpB,IAAIA,EAAE,CAACX,EAAH,KAAUA,EAAd,EAAkB,OAAO,EAAE,GAAGW,EAAL;QAASC,QAAQ,EAAE;MAAnB,CAAP;MAClB,OAAOD,EAAP;IACA,CAHD,CAFS,CAAX;IAOA,MAAMvC,wBAAwB,CAACe,WAAW,CAACa,EAAb,EAAiBA,EAAjB,CAA9B;EACA,CATD;;EAWA,MAAMa,WAAW,GAAIC,IAAD,IAAU,YAAY;IACzC1B,cAAc,CAAC,EAAE,GAAGD,WAAL;MAAkB4B,QAAQ,EAAE;IAA5B,CAAD,CAAd;IACA,MAAM1C,YAAY,CAACc,WAAW,CAACa,EAAb,EAAiBc,IAAjB,CAAlB;EACA,CAHD;;EAKA,MAAME,iBAAiB,GAAG,YAAY;IACrC5B,cAAc,CAAC,EAAE,GAAGD,WAAL;MAAkByB,QAAQ,EAAE;IAA5B,CAAD,CAAd;IACA,MAAMtC,qBAAqB,CAACa,WAAW,CAACa,EAAb,CAA3B;IACAf,OAAO,CAACgC,IAAR,CAAa,QAAb;EACA,CAJD;;EAMA,oBACC,QAAC,aAAD;IAAe,SAAS,EAAC,qCAAzB;IAAA,wBACC,QAAC,cAAD;MAAgB,EAAE,EAAC,QAAnB;MAA4B,SAAS,EAAC,iBAAtC;MAAA,wBACC;QAAG,SAAS,EAAC;MAAb;QAAA;QAAA;QAAA;MAAA,QADD;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,EAIEjC,UAAU,CAACkC,OAAX,IAAsB,CAAClC,UAAU,CAACa,WAAlC,gBACA;MAAA,wBACC;QAAO,IAAI,EAAC,UAAZ;QAAA,UACG;AACR;AACA;AACA;AACA;AACA;AACA;MAPK;QAAA;QAAA;QAAA;MAAA,QADD,eAUC;QAAK,SAAS,EAAC,kBAAf;QAAA,uBACC,QAAC,OAAD;UAAS,SAAS,EAAC;QAAnB;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QAVD;IAAA,gBADA,GAeG,CAACV,WAAD,gBACH;MAAG,SAAS,EAAC,uBAAb;MAAA,uFAEC;QAAA;QAAA;QAAA;MAAA,QAFD;IAAA;MAAA;MAAA;MAAA;IAAA,QADG,gBAOH;MAAA,wBACC;QAAK,SAAS,EAAC,WAAf;QAAA,uBACC;UAAK,SAAS,EAAC,YAAf;UAAA,uBACC;YAAK,SAAS,EAAC,uEAAf;YAAA,wBACC;cAAK,SAAS,EAAC,aAAf;cAAA,wBACC,QAAC,WAAD;gBACC,IAAI,EAAEA,WAAW,CAACgC,WADnB;gBAEC,SAAS,EAAEhC,WAAW,CAACiC,mBAFxB;gBAGC,QAAQ,EAAEjC,WAAW,CAACkC;cAHvB;gBAAA;gBAAA;gBAAA;cAAA,QADD,eAMC;gBACC,SAAS,EAAC,mCADX;gBAEC,KAAK,EAAE;kBAAEC,UAAU,EAAE;gBAAd,CAFR;gBAAA,UAIEnC,WAAW,CAACgC,WAAZ,CAAwBhB,MAAxB,GAAiC,EAAjC,GACEhB,WAAW,CAACgC,WAAZ,CAAwBI,MAAxB,CAA+B,CAA/B,EAAkC,EAAlC,EAAsCC,MAAtC,CAA6C,KAA7C,CADF,GAEErC,WAAW,CAACgC;cANhB;gBAAA;gBAAA;gBAAA;cAAA,QAND;YAAA;cAAA;cAAA;cAAA;YAAA,QADD,eAgBC;cAAK,KAAK,EAAE;gBAAEM,IAAI,EAAE;cAAR,CAAZ;cAA2B,SAAS,EAAC,MAArC;cAAA,wBACC;gBACC,KAAK,EAAE;kBAAEC,QAAQ,EAAE,MAAZ;kBAAoBJ,UAAU,EAAE;gBAAhC,CADR;gBAEC,SAAS,EAAC,gBAFX;gBAGC,uBAAuB,EAAE9C,YAAY,CAACW,WAAW,CAACV,IAAb;cAHtC;gBAAA;gBAAA;gBAAA;cAAA,QADD,eAMC;gBAAO,SAAS,EAAC,YAAjB;gBAAA,sCACW,QAAC,kBAAD;kBAAoB,SAAS,EAAEU,WAAW,CAACwC;gBAA3C;kBAAA;kBAAA;kBAAA;gBAAA,QADX;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAND,eASC;gBAAK,KAAK,EAAE;kBAAEC,SAAS,EAAE;gBAAb,CAAZ;gBAAA,wBACC;kBACC,OAAO,EAAEf,WAAW,CAAC,IAAD,CADrB;kBAEC,QAAQ,EACNhC,IAAI,IAAIA,IAAI,CAACgD,WAAd,IAA8B1C,WAAW,CAACyB,QAA1C,IAAsDzB,WAAW,CAAC4B,QAHpE;kBAKC,KAAK,EAAE;oBAAEW,QAAQ,EAAE;kBAAZ,CALR;kBAMC,SAAS,EAAC,sBANX;kBAAA,uBAQC;oBACC,SAAS,EAAG,GAAEvC,WAAW,CAAC2C,QAAZ,KAAyB,CAAzB,GAA6B,KAA7B,GAAqC,KAAM;kBAD1D;oBAAA;oBAAA;oBAAA;kBAAA;gBARD;kBAAA;kBAAA;kBAAA;gBAAA,QADD,eAaC;kBACC,OAAO,EAAEjB,WAAW,CAAC,KAAD,CADrB;kBAEC,QAAQ,EACNhC,IAAI,IAAIA,IAAI,CAACgD,WAAd,IAA8B1C,WAAW,CAACyB,QAA1C,IAAsDzB,WAAW,CAAC4B,QAHpE;kBAKC,KAAK,EAAE;oBAAEW,QAAQ,EAAE;kBAAZ,CALR;kBAMC,SAAS,EAAC,2BANX;kBAAA,uBAQC;oBACC,SAAS,EAAG,GAAEvC,WAAW,CAAC2C,QAAZ,KAAyB,CAAzB,GAA6B,KAA7B,GAAqC,KAAM;kBAD1D;oBAAA;oBAAA;oBAAA;kBAAA;gBARD;kBAAA;kBAAA;kBAAA;gBAAA,QAbD,eAyBC;kBACC,OAAO,EAAEd,iBADV;kBAEC,QAAQ,EAAE7B,WAAW,CAACyB,QAFvB;kBAGC,KAAK,EAAE;oBAAEc,QAAQ,EAAE;kBAAZ,CAHR;kBAIC,SAAS,EAAC,uBAJX;kBAAA,WAMEvC,WAAW,CAACyB,QAAZ,gBACA;oBAAA,2BACc,GADd,eAEC,QAAC,OAAD;sBACC,EAAE,EAAC,MADJ;sBAEC,SAAS,EAAC,QAFX;sBAGC,IAAI,EAAC,IAHN;sBAIC,IAAI,EAAC,QAJN;sBAKC,eAAY;oBALb;sBAAA;sBAAA;sBAAA;oBAAA,QAFD;kBAAA,gBADA,gBAYA;oBAAA,wBACC;sBAAG,SAAS,EAAC;oBAAb;sBAAA;sBAAA;sBAAA;oBAAA,QADD;kBAAA,gBAlBF,EAqBI,GArBJ;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAzBD;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QATD;YAAA;cAAA;cAAA;cAAA;YAAA,QAhBD;UAAA;YAAA;YAAA;YAAA;UAAA;QADD;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QADD,eAiFC;QAAG,SAAS,EAAC,mCAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjFD,EAkFE/B,IAAI,IAAI,CAACA,IAAI,CAACgD,WAAd,gBACA;QAAM,KAAK,EAAE;UAAEH,QAAQ,EAAE;QAAZ,CAAb;QAAmC,QAAQ,EAAEtB,aAA7C;QAAA,wBACC,QAAC,cAAD;UACC,QAAQ,EAAET,SAAS,IAAIR,WAAW,CAACyB,QADpC;UAEC,KAAK,EAAErB,cAFR;UAGC,QAAQ,EAAGc,CAAD,IAAO;YAChBb,iBAAiB,CAACa,CAAC,CAAC0B,MAAF,CAASC,KAAV,CAAjB;YACAtC,eAAe,CAAC,KAAD,CAAf;UACA,CANF;UAOC,IAAI,EAAC,GAPN;UAQC,WAAW,EAAC,+BARb;UASC,SAAS,EAAC,mBATX;UAUC,cAAW;QAVZ;UAAA;UAAA;UAAA;QAAA,QADD,EAaED,YAAY,gBACZ,QAAC,uBAAD;UAAyB,SAAS,EAAC,SAAnC;UAA6C,KAAK,EAAE;YAAEiC,QAAQ,EAAE;UAAZ,CAApD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADY,GAIT,IAjBL,eAkBC;UACC,QAAQ,EAAE/B,SAAS,IAAIR,WAAW,CAACyB,QADpC;UAEC,IAAI,EAAC,QAFN;UAGC,SAAS,EAAC,0BAHX;UAAA,UAKEjB,SAAS,gBACT;YAAA,yBACY,GADZ,eAEC,QAAC,OAAD;cACC,EAAE,EAAC,MADJ;cAEC,SAAS,EAAC,QAFX;cAGC,IAAI,EAAC,IAHN;cAIC,IAAI,EAAC,QAJN;cAKC,eAAY;YALb;cAAA;cAAA;cAAA;YAAA,QAFD;UAAA,gBADS,gBAYT;YAAA;UAAA;QAjBF;UAAA;UAAA;UAAA;QAAA,QAlBD;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,gBAyCA;QAAG,SAAS,EAAC,6CAAb;QAA2D,KAAK,EAAE;UAAE+B,QAAQ,EAAE;QAAZ,CAAlE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA3HF,eA+HC;QAAK,SAAS,EAAC,MAAf;QAAA,uBACC;UAAK,SAAS,EAAC,YAAf;UAAA,UACE,CAACrC,QAAD,IAAcA,QAAQ,IAAIA,QAAQ,CAACc,MAAT,KAAoB,CAA9C,gBACA;YAAG,SAAS,EAAC,kBAAb;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADA,GAKAd,QAAQ,IACRA,QAAQ,CAACqB,GAAT,CAAcuB,OAAD,iBACZ;YAEC,SAAS,EAAC,uFAFX;YAAA,wBAIC;cAAK,SAAS,EAAC,aAAf;cAA6B,KAAK,EAAE;gBAAER,IAAI,EAAE;cAAR,CAApC;cAAA,wBACC,QAAC,WAAD;gBACC,IAAI,EAAEQ,OAAO,CAACd,WADf;gBAEC,SAAS,EAAEc,OAAO,CAACb,mBAFpB;gBAGC,QAAQ,EAAEa,OAAO,CAACZ,aAHnB;gBAIC,IAAI,EAAC;cAJN;gBAAA;gBAAA;gBAAA;cAAA,QADD,eAOC;gBACC,SAAS,EAAC,0CADX;gBAEC,KAAK,EAAE;kBAAEC,UAAU,EAAE;gBAAd,CAFR;gBAAA,UAIEW,OAAO,CAACd,WAAR,CAAoBhB,MAApB,GAA6B,EAA7B,GACE8B,OAAO,CAACd,WAAR,CAAoBI,MAApB,CAA2B,CAA3B,EAA8B,EAA9B,EAAkCC,MAAlC,CAAyC,KAAzC,CADF,GAEES,OAAO,CAACd;cANZ;gBAAA;gBAAA;gBAAA;cAAA,QAPD;YAAA;cAAA;cAAA;cAAA;YAAA,QAJD,eAoBC;cAAK,KAAK,EAAE;gBAAEM,IAAI,EAAE;cAAR,CAAZ;cAA2B,SAAS,EAAC,MAArC;cAAA,wBACC;gBACC,KAAK,EAAE;kBAAEC,QAAQ,EAAE,MAAZ;kBAAoBJ,UAAU,EAAE;gBAAhC,CADR;gBAEC,SAAS,EAAC,gBAFX;gBAGC,uBAAuB,EAAE9C,YAAY,CAACyD,OAAO,CAACxD,IAAT;cAHtC;gBAAA;gBAAA;gBAAA;cAAA,QADD,eAMC;gBAAO,SAAS,EAAC,YAAjB;gBAAA,sCACW,QAAC,kBAAD;kBAAoB,SAAS,EAAEwD,OAAO,CAACN;gBAAvC;kBAAA;kBAAA;kBAAA;gBAAA,QADX,EACiE,GADjE;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAND,eASC;gBAAA,wBACC;kBAAO,IAAI,EAAC,UAAZ;kBAAA,UACG;AACf;AACA;AACA;AACA;AACA;AACA;gBAPY;kBAAA;kBAAA;kBAAA;gBAAA,QADD,eAUC;kBAAK,SAAS,EAAC,sBAAf;kBAAA,UACEM,OAAO,CAACC,SAAR,KAAsBrD,IAAI,CAACmB,EAA3B,gBACA;oBACC,OAAO,EAAES,aAAa,CAACwB,OAAO,CAACjC,EAAT,CADvB;oBAEC,QAAQ,EAAEiC,OAAO,CAACrB,QAAR,IAAoBzB,WAAW,CAACyB,QAF3C;oBAGC,KAAK,EAAE;sBAAEc,QAAQ,EAAE;oBAAZ,CAHR;oBAIC,SAAS,EAAC,uBAJX;oBAAA,UAMEO,OAAO,CAACrB,QAAR,gBACA,QAAC,OAAD;sBACC,EAAE,EAAC,MADJ;sBAEC,SAAS,EAAC,QAFX;sBAGC,IAAI,EAAC,IAHN;sBAIC,IAAI,EAAC,QAJN;sBAKC,eAAY;oBALb;sBAAA;sBAAA;sBAAA;oBAAA,QADA,gBASA;sBAAG,SAAS,EAAC;oBAAb;sBAAA;sBAAA;sBAAA;oBAAA;kBAfF;oBAAA;oBAAA;oBAAA;kBAAA,QADA,GAmBG;gBApBL;kBAAA;kBAAA;kBAAA;gBAAA,QAVD;cAAA,gBATD;YAAA;cAAA;cAAA;cAAA;YAAA,QApBD;UAAA,GACMqB,OAAO,CAACjC,EADd;YAAA;YAAA;YAAA;UAAA,QADD;QAPF;UAAA;UAAA;UAAA;QAAA;MADD;QAAA;QAAA;QAAA;MAAA,QA/HD;IAAA,gBA1BF;EAAA;IAAA;IAAA;IAAA;EAAA,QADD;AA2OA,CAxTD;;GAAMrB,Q;UASWjB,U,EACGD,S;;;KAVdkB,Q;;AA0TN,MAAMwD,eAAe,GAAIC,KAAD,KAAY;EACnCrD,SAAS,EAAEqD,KAAK,CAACC,KADkB;EAEnCzD,SAAS,EAAEwD,KAAK,CAACE;AAFkB,CAAZ,CAAxB;;AAKA,eAAerE,OAAO,CAACkE,eAAD,EAAkB;EACvCjE,yBADuC;EAEvCC,UAFuC;EAGvCC,wBAHuC;EAIvCC,YAJuC;EAKvCC;AALuC,CAAlB,CAAP,CAMZK,QANY,CAAf"},"metadata":{},"sourceType":"module"}