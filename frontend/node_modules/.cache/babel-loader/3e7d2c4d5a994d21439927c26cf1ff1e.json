{"ast":null,"code":"// Action Types\nimport { SIGN_UP, SIGN_IN, LOAD_USER, LOG_OUT, STOP_INITIAL_LOADER, USER_DEV_PROFILE_CREATE, AUTH_ERROR } from '../types'; // Initial Auth State\n\nconst initialState = {\n  isAuthenticated: false,\n  loading: true,\n  user: null\n}; // Reducer\n\nconst authReducers = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SIGN_UP:\n    case SIGN_IN:\n      localStorage.setItem('ACCESS_TOKEN', action.payload.responses.accessToken);\n      return { ...state,\n        isAuthenticated: true,\n        user: action.payload.responses.user\n      };\n\n    case LOAD_USER:\n      {\n        return { ...state,\n          isAuthenticated: true,\n          loading: false,\n          user: action.payload.user\n        };\n      }\n\n    case STOP_INITIAL_LOADER:\n      return { ...state,\n        loading: false\n      };\n\n    case AUTH_ERROR:\n    case LOG_OUT:\n      localStorage.clear();\n      return { ...state,\n        isAuthenticated: false,\n        loading: false,\n        user: null\n      };\n\n    case USER_DEV_PROFILE_CREATE:\n      return { ...state,\n        user: { ...state.user,\n          new_account: false\n        }\n      };\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport default authReducers;","map":{"version":3,"names":["SIGN_UP","SIGN_IN","LOAD_USER","LOG_OUT","STOP_INITIAL_LOADER","USER_DEV_PROFILE_CREATE","AUTH_ERROR","initialState","isAuthenticated","loading","user","authReducers","state","action","type","localStorage","setItem","payload","responses","accessToken","clear","new_account"],"sources":["/Users/saraneuenschwander/Desktop/challenges/Developers-Branch/frontend/src/store/reducers/auth.js"],"sourcesContent":["// Action Types\r\nimport {\r\n\tSIGN_UP,\r\n\tSIGN_IN,\r\n\tLOAD_USER,\r\n\tLOG_OUT,\r\n\tSTOP_INITIAL_LOADER,\r\n\tUSER_DEV_PROFILE_CREATE,\r\n\tAUTH_ERROR,\r\n} from '../types';\r\n\r\n// Initial Auth State\r\nconst initialState = {\r\n\tisAuthenticated: false,\r\n\tloading: true,\r\n\tuser: null,\r\n};\r\n\r\n// Reducer\r\nconst authReducers = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SIGN_UP:\r\n\t\tcase SIGN_IN:\r\n\t\t\tlocalStorage.setItem('ACCESS_TOKEN', action.payload.responses.accessToken);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tuser: action.payload.responses.user,\r\n\t\t\t};\r\n\t\tcase LOAD_USER: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tuser: action.payload.user,\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase STOP_INITIAL_LOADER:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t};\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase LOG_OUT:\r\n\t\t\tlocalStorage.clear();\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tuser: null,\r\n\t\t\t};\r\n\t\tcase USER_DEV_PROFILE_CREATE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: {\r\n\t\t\t\t\t...state.user,\r\n\t\t\t\t\tnew_account: false,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default authReducers;\r\n"],"mappings":"AAAA;AACA,SACCA,OADD,EAECC,OAFD,EAGCC,SAHD,EAICC,OAJD,EAKCC,mBALD,EAMCC,uBAND,EAOCC,UAPD,QAQO,UARP,C,CAUA;;AACA,MAAMC,YAAY,GAAG;EACpBC,eAAe,EAAE,KADG;EAEpBC,OAAO,EAAE,IAFW;EAGpBC,IAAI,EAAE;AAHc,CAArB,C,CAMA;;AACA,MAAMC,YAAY,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBL,YAAyB;EAAA,IAAXM,MAAW;;EACtD,QAAQA,MAAM,CAACC,IAAf;IACC,KAAKd,OAAL;IACA,KAAKC,OAAL;MACCc,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCH,MAAM,CAACI,OAAP,CAAeC,SAAf,CAAyBC,WAA9D;MACA,OAAO,EACN,GAAGP,KADG;QAENJ,eAAe,EAAE,IAFX;QAGNE,IAAI,EAAEG,MAAM,CAACI,OAAP,CAAeC,SAAf,CAAyBR;MAHzB,CAAP;;IAKD,KAAKR,SAAL;MAAgB;QACf,OAAO,EACN,GAAGU,KADG;UAENJ,eAAe,EAAE,IAFX;UAGNC,OAAO,EAAE,KAHH;UAINC,IAAI,EAAEG,MAAM,CAACI,OAAP,CAAeP;QAJf,CAAP;MAMA;;IACD,KAAKN,mBAAL;MACC,OAAO,EACN,GAAGQ,KADG;QAENH,OAAO,EAAE;MAFH,CAAP;;IAID,KAAKH,UAAL;IACA,KAAKH,OAAL;MACCY,YAAY,CAACK,KAAb;MACA,OAAO,EACN,GAAGR,KADG;QAENJ,eAAe,EAAE,KAFX;QAGNC,OAAO,EAAE,KAHH;QAINC,IAAI,EAAE;MAJA,CAAP;;IAMD,KAAKL,uBAAL;MACC,OAAO,EACN,GAAGO,KADG;QAENF,IAAI,EAAE,EACL,GAAGE,KAAK,CAACF,IADJ;UAELW,WAAW,EAAE;QAFR;MAFA,CAAP;;IAOD;MAAS;QACR,OAAOT,KAAP;MACA;EAzCF;AA2CA,CA5CD;;AA8CA,eAAeD,YAAf"},"metadata":{},"sourceType":"module"}